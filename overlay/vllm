#!/usr/bin/env bash
set -euo pipefail

# vllm-stack will call: vllm serve <something> --host ... --port ...
# We ignore those args and just start our server.

HOST="${HOST:-0.0.0.0}"
PORT="${PORT:-8000}"

# Make sure we run in the right dir
cd /app

echo "ðŸŽ¤ Starting KaniTTS vLLM server on ${HOST}:${PORT} (MODEL_NAME=${MODEL_NAME:-<not set>})"

exec python3 -m uvicorn server:app --host "${HOST}" --port "${PORT}" --log-level info
